[{"path":"https://katiewampler.github.io/fewsdom/articles/the-basics.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"the-basics","text":"guide walk analyze EEM’s aborbance data collected via Horiba Aqualog using ‘fewsdom’ package R. designed minimize lines visible code needed process samples creating single function (process_eems) run processing steps, comes cost making little harder customize processing steps. guide walk steps process raw EEM’s using main summary function. look underlying functions see fewsdom: underlying functions R markdown.","code":""},{"path":[]},{"path":"https://katiewampler.github.io/fewsdom/articles/the-basics.html","id":"step-1-install-the-fewsdom-package","dir":"Articles","previous_headings":"Processing Samples the Default Way","what":"Step 1: Install the fewsdom package","title":"the-basics","text":"‘fewsdom’ package currently available github, hope tidy submit CRAN point. Thus install package, run following lines code. also want install Rtools (https://cran.r-project.org/bin/windows/Rtools/) already. already done things , ’ll just need load library.","code":"library(devtools) install_github(\"katiewampler/fewsdom\") library(fewsdom)"},{"path":"https://katiewampler.github.io/fewsdom/articles/the-basics.html","id":"step-2-specify-where-the-data-to-analyze-is","dir":"Articles","previous_headings":"Processing Samples the Default Way","what":"Step 2: Specify where the data to analyze is","title":"the-basics","text":"‘fewsdom’ package designed direct folder raw data organize data, process , report folder finished results contained folder. Thus important part running data tell data folder . lab, new date folder sample run, separated project, specify date data run, project, creates variable ‘prjpath’ data . purposes example, ’ll use example data within package. ’ll also copy data new folder preserve original data. Check example folder ensure ’ve now got files , 35 items. Lastly, ’ll save new folder project path.","code":"run_date <- \"2022_11_14\"  project <- \"2_PNNL_DOM/\"  prjpath <- paste(\"T:/Research/Aqualog_Data/\", project, run_date, sep=\"\") data <- system.file(\"fewsdom_example_data\", package = \"fewsdom\") #locate example data wd <- unlist(str_split(data, \"fewsdom_example_data\"))[1] #get location of package dir.create(paste(wd, \"example\", sep=\"\")) #create example folder (we'll delete at the end) #unlink(paste(wd, \"example\", sep=\"\"), recursive = T) file.copy(file.path(data, list.files(data)), paste(wd, \"example\", sep=\"\"))  #move example files over prjpath <- paste(wd, \"example\", sep=\"\")"},{"path":"https://katiewampler.github.io/fewsdom/articles/the-basics.html","id":"step-3-run-the-function-to-process-the-data","dir":"Articles","previous_headings":"Processing Samples the Default Way","what":"Step 3: Run the function to process the data","title":"the-basics","text":"created single function everything reasons, first wanted easy everyone use, even minimal coding experience. also wanted ensure processing steps standardized data analyzed way comparability. Lastly, concerned long processing script multiple users lead accidental code changes causing script break. Thus package many functions can used write custom processing script, main function ‘run_eems’. Ideally EEM’s samples run concurrently measurements dissolved organic carbon (DOC) samples can normalized value. ’s also required calculate common metrics like SUVA 254. said, sometimes run test samples, DOC isn’t required. main function (run_eems) built handle cases, ’ve laid sample functions . ’ll run without DOC data first.","code":""},{"path":"https://katiewampler.github.io/fewsdom/articles/the-basics.html","id":"metadata","dir":"Articles","previous_headings":"Processing Samples the Default Way > Step 3: Run the function to process the data","what":"Metadata","title":"the-basics","text":"get function let’s load metadata first can see look like. template package named “metadata_example, let’s load look formatting. run samples unless correctly formatted metadata. ’re getting error messages, make sure metadata looks correct. explanation goes column pull help file describing column.","code":"metadata <- read_xlsx(file.path(prjpath, \"metadata_example.xlsx\"))  #load example data metadata ## # A tibble: 7 × 11 ##   index analysis_date       description    data_identifier   replicate_no ##   <dbl> <dttm>              <chr>          <chr>                    <dbl> ## 1     1 2022-11-14 00:00:00 Sample Blank 1 BLK2211141                   1 ## 2     2 2022-11-14 00:00:00 PreTea 1% SRM  preTea221114                 1 ## 3     3 2022-11-14 00:00:00 MCSN092        MCSN0922211011340            1 ## 4     4 2022-11-14 00:00:00 MCSN094        MCSN0942211010937            1 ## 5     5 2022-11-14 00:00:00 MCSN098        MCSN0982211011046            1 ## 6     6 2022-11-14 00:00:00 PostTea 1% SRM postTea221114                1 ## 7     7 2022-11-14 00:00:00 Sample Blank 2 BLK2211142                   1 ## # ℹ 6 more variables: integration_time_s <dbl>, dilution <dbl>, ## #   RSU_area_1s <dbl>, run_type <chr>, DOC_mg_L <lgl>, Notes <lgl> help(meta)"},{"path":"https://katiewampler.github.io/fewsdom/articles/the-basics.html","id":"process-without-doc-data","dir":"Articles","previous_headings":"Processing Samples the Default Way > Step 3: Run the function to process the data","what":"Process without DOC data","title":"the-basics","text":"function things need specified location data (prjpath) ’ve already set, metadata name (meta_name) used find metadata folder, look DOC data (get_doc) example false. see get warning don’t DOC normalized data, can’t get plots, code tries provide . code outputs located folder named ‘5_Processed’. can look ’s processed folder now. save processed EEM’s .csv file, also save processed EEMs, absorbance data, metadata R data files (.rds). calculates reports standard spectral indices provides text file showing processing steps performed data. Lastly ’s file named Figures, contains plots. summary plot example Later ’ll look ’s going script, now, lets move analyze samples DOC time.","code":"run_eems(prjpath = prjpath, meta_name = \"metadata_example.xlsx\",              get_doc = F) ## Renaming files and putting in files  ## Loading data in R  ## Processing EEMs and absorbance data  ## Reporting EEMs and absorbance data ## Warning in plot_eems(prjpath = prjpath, meta = meta, eem = X_clean, doc_norm = ## F): Metadata didn't contain any DOC data, unable to create DOC normalized ## plots. ## Warning in get_indices(X_clean, abs_clean, meta, prjpath = prjpath, doc_norm = ## \"both\", : No DOC data was provided, DOC normalized fluorescence metrics were ## not calculated ## Warning in get_indices(X_clean, abs_clean, meta, prjpath = prjpath, doc_norm = ## \"both\", : No DOC data was provided, absorbance metrics were not calculated ##   ##  EEM's have been successfully processed. Look in the 5_Processed folder for plots and indices list.files(file.path(prjpath, \"5_Processed\")) ##  [1] \"BLK2211141_1_5s.csv\"          \"BLK2211142_1_5s.csv\"          ##  [3] \"Figures\"                      \"MCSN0922211011340_1_5s.csv\"   ##  [5] \"MCSN0942211010937_1_5s.csv\"   \"MCSN0982211011046_1_5s.csv\"   ##  [7] \"metadata.rds\"                 \"postTea221114_1_5s.csv\"       ##  [9] \"preTea221114_1_5s.csv\"        \"processed_absdata.rds\"        ## [11] \"Processed_Absorbance.csv\"     \"processed_eemlist.rds\"        ## [13] \"processing_tracking.txt\"      \"SpectralIndices_example.xlsx\" list.files(file.path(prjpath, \"5_Processed/Figures\")) ## [1] \"BLK2211141_1_5s.png\"        \"BLK2211142_1_5s.png\"        ## [3] \"EEM_summary_plot.png\"       \"MCSN0922211011340_1_5s.png\" ## [5] \"MCSN0942211010937_1_5s.png\" \"MCSN0982211011046_1_5s.png\" ## [7] \"postTea221114_1_5s.png\"     \"preTea221114_1_5s.png\""},{"path":"https://katiewampler.github.io/fewsdom/articles/the-basics.html","id":"process-with-doc-data","dir":"Articles","previous_headings":"Processing Samples the Default Way > Step 3: Run the function to process the data","what":"Process with DOC data","title":"the-basics","text":"main difference running ‘run_eems’ function without DOC data set ‘get_doc’ TRUE need provide spreadsheet DOC values sites, code match samples metadata sites add concentrations metadata. ’s things need specified function. First need specify doc file (doc_file). can either excel file csv file. ’s excel file though, sheet name must specified (doc_sheet). Additionally must tell code column DOC data (doc_column) site name (name_column). ’s lines need skipped beginning can done ‘nskip’. Lastly two arguments help code match sites DOC data metadata. Sample names often given site name followed date time collection, ‘doc_delin’ argument allows set symbol ’s separating site name sampling information DOC data. Lastly, must sample names metadata. However, due software, sample names contain underscores thus must specify start end sample names. used extract just site name without date time identifiers can easily merge data compare. values specify used str_sub function similar : first number location string site name starts, second number site name ends. look metadata, can see using c(1,7) can see blanks tea standards get little cut , ’s okay samples don’t DOC data match anyways. Now understand extra parameters little better, let’s analyze EEM’s DOC data. code built overwrite previous processing, don’t need fresh example folder, just recogize files already organized load process. Notice time says able link 3 7 samples DOC data give errors plotting DOC. look processed folder now. main differences notice spectral indices file now includes DOC normalized metrics samples DOC data, also contains absorbance data now. Lastly, now DOC normalized plots. summary plot example Notice ’s 3, three sample DOC data. ’s , now know basics take raw EEM’s data process ! want know functions within run_eems function, look ‘--hood’ vingette.","code":"site_loc <- c(1,7) site <- \"MCSN012202301011214\" #site name (MCSN012) with the date and time it was collected (site_clean <- str_sub(site, site_loc[1], site_loc[2])) ## [1] \"MCSN012\" str_sub(meta$data_identifier, site_loc[1], site_loc[2]) ## [1] \"BLK2211\" \"preTea2\" \"MCSN092\" \"MCSN094\" \"MCSN098\" \"postTea\" \"BLK2211\" ## [8] \"preTea2\" #analyze EEM's data run_eems(prjpath = prjpath, meta_name = \"metadata_example.xlsx\",              doc_file = file.path(prjpath, \"example_DOC_data.xlsx\"),              doc_sheet=\"MCKI Data\", doc_column=7, name_column = 4,              nskip=1, doc_delim=\"-\", site_loc=c(1,7)) ## Linked 3/7 samples with DOC data ## Renaming files and putting in files  ## Loading data in R  ## Processing EEMs and absorbance data  ## Reporting EEMs and absorbance data ##   ##  EEM's have been successfully processed. Look in the 5_Processed folder for plots and indices"},{"path":"https://katiewampler.github.io/fewsdom/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Katie . Wampler. Author, maintainer.","code":""},{"path":"https://katiewampler.github.io/fewsdom/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Wampler K (2024). fewsdom: Tools Process Data Horiba Aqualog. R package version 0.1.0, https://katiewampler.github.io/fewsdom/.","code":"@Manual{,   title = {fewsdom: Tools to Process Data from Horiba Aqualog},   author = {Katie A. Wampler},   year = {2024},   note = {R package version 0.1.0},   url = {https://katiewampler.github.io/fewsdom/}, }"},{"path":"https://katiewampler.github.io/fewsdom/reference/abs_parm.html","id":null,"dir":"Reference","previous_headings":"","what":"Get absorbance peaks and indices — abs_parm","title":"Get absorbance peaks and indices — abs_parm","text":"Takes dataframe absorbance data calculates optical properties sample. data collected greater 1 nm intervals, data interpolated 1 nm intervals.","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/abs_parm.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get absorbance peaks and indices — abs_parm","text":"","code":"abs_parm(abs_data, waves = NULL, meta, r_thresh = 0.8, keep_all = F)"},{"path":"https://katiewampler.github.io/fewsdom/reference/abs_parm.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get absorbance peaks and indices — abs_parm","text":"abs_data dataframe containing absorbance data, column sample waves optional, vector wavelengths nm extract absorbance data meta metadata table sample run, include DOC data mg/L r_thresh minimum \\(\\text{R}^{2}\\) value spectral slopes slope included table keep_all logical, TRUE return samples even without DOC data, FALSE return samples DOC data","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/abs_parm.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get absorbance peaks and indices — abs_parm","text":"Returns data frame indices.","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/abs_parm.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get absorbance peaks and indices — abs_parm","text":"Absorbance indices based Hansen et al. 2016. Measurements defined follows: SUVA254, SUVA280, SUVA350, SUVA370: SUVA 254, 280, 350, 370 nm. Units \\(\\text{L mgC}^{-1} \\text{m}^{-1}\\). Typically higher values associated greater aromatic content. SVA412, SVA440, SVA480, SVA510, SVA532, SVA555: SVA 412, 440, 480, 510, 532, 555 nm. Units \\(\\text{L mgC}^{-1} \\text{m}^{-1}\\). Typically higher values associated greater aromatic content. S275_295: Spectral slope 275 295 nm. S290_350: Spectral slope 290 350 nm. S350_400: Spectral slope 350 400 nm. Spectral slopes found nonlinear fit exponential function absorption spectrum, typically higher  values associated lower molecular weight materials /lower aromaticity. SR: Spectral slope S275_295 divided spectral slope S350_400, negatively correlated DOM molecular weight generally increases irradiation.","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/abs_parm.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Get absorbance peaks and indices — abs_parm","text":"Hansen, . M., Kraus, T. E. C., Pellerin, B. ., Fleck, J. ., Downing, B. D., & Bergamaschi, B. . (2016). Optical properties dissolved organic matter (DOM): Effects biological photolytic degradation. Limnology Oceanography, 61(3), 1015–1032. https://doi.org/10.1002/lno.10270","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/abs_preprocess.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert absorbance data from a .dat file to .csv file — abs_preprocess","title":"Convert absorbance data from a .dat file to .csv file — abs_preprocess","text":"Takes folder .dat absorbance files converts .csv correct format reading using 'absorbance_read' function staRdom package.","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/abs_preprocess.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert absorbance data from a .dat file to .csv file — abs_preprocess","text":"","code":"abs_preprocess(prjpath, runtype = \"sampleQ\", meta)"},{"path":"https://katiewampler.github.io/fewsdom/reference/abs_preprocess.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert absorbance data from a .dat file to .csv file — abs_preprocess","text":"prjpath string indicating project file containing absorbance data process runtype indicates data run Aqualog, either \"manual\", \"sampleQ\", \"mixed\". \"mixed\" get run type metadata meta metadata table sample run, required runtype \"mixed\"","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/abs_preprocess.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Convert absorbance data from a .dat file to .csv file — abs_preprocess","text":"Use 'clean_files' function running function ensure file structure correct pre-processing.","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/abs_preprocess.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert absorbance data from a .dat file to .csv file — abs_preprocess","text":"","code":"if (FALSE) {   abs_preprocess(prjpath=prjpath, \"mixed\", meta) }"},{"path":"https://katiewampler.github.io/fewsdom/reference/check_samps.html","id":null,"dir":"Reference","previous_headings":"","what":"Checks to make sure samples and metadata match — check_samps","title":"Checks to make sure samples and metadata match — check_samps","text":"Takes loaded EEMs absorbance data tries match 'unique_ID' metadata, sample metadata loaded EEMs absorbance remove line metadata. samples loaded metadata warn remove loaded samples.","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/check_samps.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Checks to make sure samples and metadata match — check_samps","text":"","code":"check_samps(meta, eemlist, blanklist, abs)"},{"path":"https://katiewampler.github.io/fewsdom/reference/check_samps.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Checks to make sure samples and metadata match — check_samps","text":"meta metadata table sample information, needs 'unique_ID' column eemlist object class eemlist containing EEMs samples blanklist object class eemlist containing blanks EEMs samples, names eemlist \"_blank\" end abs dataframe containing absorbance data corresponding EEMs samples","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/check_samps.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Checks to make sure samples and metadata match — check_samps","text":"list metadata, eemlist, blanklist, absorbance","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/clean_files.html","id":null,"dir":"Reference","previous_headings":"","what":"Renames and organizes files from default Aqualog files — clean_files","title":"Renames and organizes files from default Aqualog files — clean_files","text":"Takes default files Aqualog (absorbance, blank, sample) renames files sample identifier creates folder file type main file directory.","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/clean_files.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Renames and organizes files from default Aqualog files — clean_files","text":"","code":"clean_files(prjpath, meta_file, meta_sheet = \"log\", ...)"},{"path":"https://katiewampler.github.io/fewsdom/reference/clean_files.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Renames and organizes files from default Aqualog files — clean_files","text":"prjpath file path main file directory data located meta_file file location metadata table, used determine samples run meta_sheet optional, sheet name metadata required metadata .xlsx file ... arguments pass functions 'clean_files'","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/clean_files.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Renames and organizes files from default Aqualog files — clean_files","text":"metadata table added column unique ID","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/clean_files.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Renames and organizes files from default Aqualog files — clean_files","text":"","code":"if (FALSE) { meta <- clean_files(prjpath=prjpath, meta_file=meta_file, meta_sheet = meta_sheet) }"},{"path":"https://katiewampler.github.io/fewsdom/reference/create_files.html","id":null,"dir":"Reference","previous_headings":"","what":"Create file structure — create_files","title":"Create file structure — create_files","text":"Takes file EEMs absorbance data creates subfolders store raw processed data, plots, output tables","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/create_files.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create file structure — create_files","text":"","code":"create_files(prjpath)"},{"path":"https://katiewampler.github.io/fewsdom/reference/create_files.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create file structure — create_files","text":"prjpath string indicating project file data","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/data_process.html","id":null,"dir":"Reference","previous_headings":"","what":"A set of processed eems data — data_process","title":"A set of processed eems data — data_process","text":"sample set data processed clean","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/data_process.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"A set of processed eems data — data_process","text":"","code":"data_process"},{"path":"https://katiewampler.github.io/fewsdom/reference/data_process.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"A set of processed eems data — data_process","text":"list length 2: 1 processed EEMs data 2 processed absorbance data","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/eem_coble_peaks2.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Coble Peaks and other fluorescence indicies — eem_coble_peaks2","title":"Get Coble Peaks and other fluorescence indicies — eem_coble_peaks2","text":"Modified 'eem_coble_peaks' eemR package include additional indices modified definitions Coble peaks.  indices ratios, values ratio must 5 times (specifed amount) greater area 1:1 line (considered noise). desired wavelength explicitly measured EEM interpolated using interp2 function pracma library.","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/eem_coble_peaks2.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Coble Peaks and other fluorescence indicies — eem_coble_peaks2","text":"","code":"eem_coble_peaks2(eem, abs_data, noise_ratio = 5, verbose = FALSE)"},{"path":"https://katiewampler.github.io/fewsdom/reference/eem_coble_peaks2.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Coble Peaks and other fluorescence indicies — eem_coble_peaks2","text":"eem object class eem eemlist abs_data dataframe absorbance data matching samples, used calculate relative fluorescence efficiency noise_ratio numeric indicating noise threshold ratio calculations verbose logical determining additional messages printed","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/eem_coble_peaks2.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Coble Peaks and other fluorescence indicies — eem_coble_peaks2","text":"Returns data frame containing fluorescence peaks indices sample","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/eem_coble_peaks2.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get Coble Peaks and other fluorescence indicies — eem_coble_peaks2","text":"Coble peaks based Coble et al. 2014 defined follows: Peak B (pB): ex = 270:280 nm, em = 300:320 nm, Tyrosine-like Peak T (pT): ex = 270:280 nm, em = 320:350 nm, Tryptophan-like Peak (pA): ex = 250:260 nm, em = 380:480 nm, Humic-like. Peak M (pM): ex = 310:320 nm, em = 380:420 nm, Marine humic-like Peak C (pC): ex = 330:350 nm, em = 420:480 nm, Humic-like Peak D (pD): ex = 390 nm, em = 509 nm, Soil fulvic acid Peak E (pE): ex = 455 nm, em = 521 nm, Soil fulvic acid Peak N (pN): ex = 280 nm, em = 370 nm, Plankton derived Given peaks , B, C, M, T defined fixed excitation emission wavelength, maximum fluorescence value region extracted. Additional fluorescence indices based Hansen et al. 2016. Measurements defined follows: rAT: ratio peak peak T, indication amount humic like (recalcitrant) fresh (liable) DOM. rCA: ratio peak C peak , indication amount humic like fumic like DOM. rCM: ratio peak C peak M, indication amount diagenetically altered (blueshifted) DOM. rCT: ratio peak C peak T, indication amount humic like (recalcitrant) fresh (liable) DOM. Fluorescence Index (FI): Ratio fluorescence ex = 370 nm, em = 470 nm em = 520 nm. Identifies relative contributions terrestrial microbial DOM sources. Humification Index (HIX): ex = 254 nm, em =\\(\\sum\\)435:480 divided em =\\(\\sum\\)435:480, \\(\\sum\\)300:345. indication humic substances extent humification. Higher values indicate higher degree humification. Freshness Index (\\(\\beta:\\alpha\\), fresh): ex = 310 nm, ratio em = 380 nm max em = 420:435 nm. indication recently produced DOM, higher values indicate recently produced DOM. Relative Fluorescence Efficiency (RFE): Ratio fluorescence ex = 370 nm, em = 460 nm absorbance 370 nm. indicator relative amount algal non-algal DOM. Biological Index (BIX): ex = 310 nm, ratio em = 380 nm em = 430 nm. indicator autotrophic productivity, values 1 indicate recently produced autochthonous DOM.","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/eem_coble_peaks2.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Get Coble Peaks and other fluorescence indicies — eem_coble_peaks2","text":"Coble, P. G., Lead, J., Baker, ., Reynolds, D. M., & Spencer, R. G. M. (Eds.). (2014). Aquatic Organic Matter Fluorescence. Cambridge: Cambridge University Press. https://doi.org/10.1017/CBO9781139045452 Hansen, . M., Kraus, T. E. C., Pellerin, B. ., Fleck, J. ., Downing, B. D., & Bergamaschi, B. . (2016). Optical properties dissolved organic matter (DOM): Effects biological photolytic degradation. Limnology Oceanography, 61(3), 1015–1032. https://doi.org/10.1002/lno.10270","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/eem_cut2.html","id":null,"dir":"Reference","previous_headings":"","what":"Trim EEMs to specified emission and/or excitation wavelengths — eem_cut2","title":"Trim EEMs to specified emission and/or excitation wavelengths — eem_cut2","text":"Modified eemR 'eem_cut' function. specified wavelengths now ones keep, ones remove.","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/eem_cut2.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Trim EEMs to specified emission and/or excitation wavelengths — eem_cut2","text":"","code":"eem_cut2(eem, ex, em, exact = FALSE, fill_with_na = FALSE)"},{"path":"https://katiewampler.github.io/fewsdom/reference/eem_cut2.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Trim EEMs to specified emission and/or excitation wavelengths — eem_cut2","text":"eem object class eem eemlist. ex numerical length two, range excitation wavelengths keep em numerical length two, range emission wavelengths keep exact Logical. TRUE, wavelengths matching em /ex removed. FALSE, wavelengths range em /ex removed. fill_with_na Logical. TRUE, fluorescence values specified wavelengths replaced NA. FALSE, values removed.","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/eem_cut2.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Trim EEMs to specified emission and/or excitation wavelengths — eem_cut2","text":"object class eem eemlist","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/eem_proccess.html","id":null,"dir":"Reference","previous_headings":"","what":"Process EEMs samples — eem_proccess","title":"Process EEMs samples — eem_proccess","text":"Takes EEMs data blanks absorbance data perform processing steps including blank subtraction, removing raman rayleigh scattering, dilution correction, removing inner filtering effects, raman normalization.","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/eem_proccess.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process EEMs samples — eem_proccess","text":"","code":"eem_proccess(   prjpath,   eemlist,   blanklist,   abs,   meta,   process_file = T,   replace_blank = F,   raman = T,   rayleigh = T,   IFE = T,   raman_norm = T,   dilute = T,   ex_clip = c(247, 450),   em_clip = c(247, 600),   doc_norm = T,   raman_width = \"auto\",   raman_mask = c(8, 8, 1.5, 1.5),   rayleigh_width = \"auto\",   rayleigh_mask = c(20, 10, 10, 10),   ... )"},{"path":"https://katiewampler.github.io/fewsdom/reference/eem_proccess.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process EEMs samples — eem_proccess","text":"prjpath file path main file directory data located eemlist object class eem eemlist containing EEMs samples blanklist object class eem eemlist containing blanks EEMs samples length eem abs dataframe containing absorbance data corresponding EEMs samples meta dataframe metadata containing unique ID's, integration time, dilutions, raman area sample, see example metadata format process_file logical, TRUE put text file processed data folder named 'processing_tracking' replace_blank logical, TRUE find first sample labeled \"blank\" \"blk\" use blank subtraction, use instrument blank errors raman logical, TRUE use 'raman' function remove raman scattering rayleigh logical, TRUE use 'rayleigh' function remove rayleigh scattering IFE logical, TRUE use absorbance data remove inner filter effects raman_norm logical, TRUE normalize EEMs raman unit area dilute logical, TRUE correct dilution factors given metadata table ex_clip vector length two excitation wavelengths clip EEMs em_clip vector length two emission wavelengths clip EEMs doc_norm logical, TRUE normalize EEMs DOC data 1 mg/L carbon raman_width either \"auto\" \"manual\". auto chosen cutting widths found using 'find_cut_width' function raman_mask vector length 4 specifying width raman line cut, numbers 1:2 width first order line, numbers 3:4 width second order line, since use auto method second order raman must specified rayleigh_width either \"auto\" \"manual\", auto chosen cutting widths found using 'find_cut_width' function rayleigh_mask optional auto width method used, vector length 4 specifying width rayleigh line cut, numbers 1:2 width first order line, numbers 3:4 width second order line ... arguments passed scattering functions 'raman' 'rayleigh'","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/eem_proccess.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process EEMs samples — eem_proccess","text":"list first object class eemlist processed EEMs samples. second object dataframe processes absorbance data. process file given, file created processes folder file directory","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/eem_proccess.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Process EEMs samples — eem_proccess","text":"","code":"if (FALSE) { data_process <- eem_proccess(prjpath=prjpath, eemlist=X, blanklist=X_blk, abs=Sabs, process_file=process_file, meta=meta) } X_clean <- data_process[[1]] abs_clean <- data_process[[2]]"},{"path":"https://katiewampler.github.io/fewsdom/reference/eem_remove_scattering2.html","id":null,"dir":"Reference","previous_headings":"","what":"Removes rayleigh and raman scattering — eem_remove_scattering2","title":"Removes rayleigh and raman scattering — eem_remove_scattering2","text":"Based 'eem_remove_scattering' function eemR package, added functionality cut different amounts emission line. function remove one kind scattering time. Use class eem eemlist. performed data untransformed besides blank subtraction.","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/eem_remove_scattering2.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Removes rayleigh and raman scattering — eem_remove_scattering2","text":"","code":"eem_remove_scattering2(   eem,   type = \"raman\",   order = 1,   up_width = 10,   down_width = 10 )"},{"path":"https://katiewampler.github.io/fewsdom/reference/eem_remove_scattering2.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Removes rayleigh and raman scattering — eem_remove_scattering2","text":"eem object class eemlist eem type string, either \"raman\" \"rayleigh\" order integer number, either 1 (first order) 2 (second order) up_width integer number specifying width nm cut emission line down_width integer number specifying width nm cut emission line","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/empty_eems.html","id":null,"dir":"Reference","previous_headings":"","what":"Check for EEMs that are empty — empty_eems","title":"Check for EEMs that are empty — empty_eems","text":"Check EEMs empty","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/empty_eems.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check for EEMs that are empty — empty_eems","text":"","code":"empty_eems(eem, verbose = T)"},{"path":"https://katiewampler.github.io/fewsdom/reference/empty_eems.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check for EEMs that are empty — empty_eems","text":"eem object class eem eemlist verbose want print samples empty","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/empty_eems.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check for EEMs that are empty — empty_eems","text":"vector EEMs empty EEMs tables (eem$x)","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/files_rename.html","id":null,"dir":"Reference","previous_headings":"","what":"Rename default file names from Aqualog — files_rename","title":"Rename default file names from Aqualog — files_rename","text":"Takes raw files downloaded Aqualog renames file names consistent across run types runs consistent analysis processing later.","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/files_rename.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Rename default file names from Aqualog — files_rename","text":"","code":"files_rename(meta, prjpath)"},{"path":"https://katiewampler.github.io/fewsdom/reference/files_rename.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rename default file names from Aqualog — files_rename","text":"meta metadata table sample run prjpath string indicating project file containing data process, subfiles","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/find_cut_width.html","id":null,"dir":"Reference","previous_headings":"","what":"Finds optimal scattering cut widths based on EEM set — find_cut_width","title":"Finds optimal scattering cut widths based on EEM set — find_cut_width","text":"Takes group EEMs uses peak picking determine wide cut scattering line (work 2nd order raman). Uses excitation 280nm finds start end peak. function find one, default NA sample. Median peak widths reported use 'remove_scattering' function. performed data untransformed besides blank subtraction.","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/find_cut_width.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Finds optimal scattering cut widths based on EEM set — find_cut_width","text":"","code":"find_cut_width(eem, type = \"rayleigh\", order = 1)"},{"path":"https://katiewampler.github.io/fewsdom/reference/find_cut_width.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Finds optimal scattering cut widths based on EEM set — find_cut_width","text":"eem object class eemlist type string, either \"raman\" \"rayleigh\" order integer number, either 1 (first order) 2 (second order)","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/get_doc.html","id":null,"dir":"Reference","previous_headings":"","what":"Input DOC data into metadata — get_doc","title":"Input DOC data into metadata — get_doc","text":"Takes data separate table DOC results puts metadata table correct sample. code assumes DOC reported mg/L. See 'sample_metadata' 'fewsdom' package formatting.","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/get_doc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Input DOC data into metadata — get_doc","text":"","code":"get_doc(   doc_file,   doc_sheet = NULL,   doc_column,   name_column,   nskip = 0,   doc_delim = \"-\",   meta_file,   meta_sheet = NULL,   site_loc = c(1, 7),   rewrite = T,   ... )"},{"path":"https://katiewampler.github.io/fewsdom/reference/get_doc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Input DOC data into metadata — get_doc","text":"doc_file string file path DOC file, can .xlsx .csv doc_sheet string sheet name DOC results, required DOC file .xlsx file doc_column numeric indicating column DOC results stored DOC file name_column numeric indicating column sample/site names stored DOC file nskip numeric indicating number lines skip reading DOC file, optional doc_delim string indicating separation site name identifiers DOC data, keep first piece meta_file string indicating file path metadata, can .xlsx .csv meta_sheet string metadata sheet name, required metadata file .xlsx file site_loc vector indicating start end site name metadata data identifier rewrite logical, TRUE original metadata saved metadata DOC results, FALSE add \"_doc_added\" end table ... arguments pass functions 'get_doc'","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/get_doc.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Input DOC data into metadata — get_doc","text":"table DOC data can either .csv excel file.","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/get_indices.html","id":null,"dir":"Reference","previous_headings":"","what":"Export absorbance and fluorencence indices and peaks to an excel file — get_indices","title":"Export absorbance and fluorencence indices and peaks to an excel file — get_indices","text":"Uses 'eem_coble_peaks2' 'abs_parm' functions obtain absorbance fluoresence indices eemlist. Saves data excel file.","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/get_indices.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Export absorbance and fluorencence indices and peaks to an excel file — get_indices","text":"","code":"get_indices(   eem_list,   abs_data,   meta,   prjpath,   doc_norm = \"both\",   sampsascol = F,   waves = NULL )"},{"path":"https://katiewampler.github.io/fewsdom/reference/get_indices.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Export absorbance and fluorencence indices and peaks to an excel file — get_indices","text":"eem_list object class eem eemlist abs_data dataframe containing absorbance data meta metadata associated samples prjpath location save exported absorbance fluorescence metrics doc_norm either TRUE, FALSE \"\" indicating peaks normalized DOC concentrations sampsascol logical indicating results oriented, TRUE puts samples columns, FALSE puts samples rows waves optional, vector wavelengths nm extract absorbance data","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/get_indices.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Export absorbance and fluorencence indices and peaks to an excel file — get_indices","text":"Use 'clean_files' function running function ensure file structure correct pre-processing.","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/ggeem2.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot EEMs plots as contour plots — ggeem2","title":"Plot EEMs plots as contour plots — ggeem2","text":"Creates pretty EEMs contour plot ability manually set intensity scale use automated one based minimum maximum EEM. Option add Coble peak labels plot (based peaks Coble et al. 2014).","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/ggeem2.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot EEMs plots as contour plots — ggeem2","text":"","code":"ggeem2(   eem,   manualscale = F,   manualmax = 1.5,   manualmin = 0,   nbins = 8,   label_peaks = F,   prec = 2,   palette = \"parula\",   z_unit = \"RU\" )"},{"path":"https://katiewampler.github.io/fewsdom/reference/ggeem2.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot EEMs plots as contour plots — ggeem2","text":"eem object class eem eemlist, data want plot manualscale logical indicating want specify minimum maximum intensity scale manually, good comparisons across samples manualmax maximum value intensity scale manualmin minimum value used intensity scale nbins number bins (colors) used contour plot, maximum 24 label_peaks logical indicating want main coble peaks annotated plot prec integer number significant figures used binning intensity palette character color palette use. Currently 'parula', 'ocean.haline', 'cubicl', 'kovesi.rainbow' 'pals' package supported (custom 'katie_pal') z_unit either \"RU\" \"DOC\", use \"RU\" raman normalized data \"DOC\" raman DOC normalized data","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/ggeem2.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot EEMs plots as contour plots — ggeem2","text":"class eem, return single plot, class eemlist return list plots","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/load_eems.html","id":null,"dir":"Reference","previous_headings":"","what":"Load renamed and organized Aqualog data into R — load_eems","title":"Load renamed and organized Aqualog data into R — load_eems","text":"Takes Aqualog files renamed put separate folders within main directory via 'clean_files' function loads R eemlists. also check see maximum absorbance 0.3.","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/load_eems.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load renamed and organized Aqualog data into R — load_eems","text":"","code":"load_eems(prjpath)"},{"path":"https://katiewampler.github.io/fewsdom/reference/load_eems.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load renamed and organized Aqualog data into R — load_eems","text":"prjpath file path main file directory data located","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/load_eems.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Load renamed and organized Aqualog data into R — load_eems","text":"","code":"if (FALSE) {   raw_eem <- load_eems(prjpath = prjpath) }  X <- raw_eem[[1]] #the raw eem samples  X_blk <- raw_eem[[2]] #the matching blanks  Sabs <- raw_eem[[3]] #the matching absorbance data"},{"path":"https://katiewampler.github.io/fewsdom/reference/meta.html","id":null,"dir":"Reference","previous_headings":"","what":"An example of ideal metadata formatting for a sample set run on the Aqualog — meta","title":"An example of ideal metadata formatting for a sample set run on the Aqualog — meta","text":"Many functions within 'fewsdom' package require metadata smooth use functions recommended use sample template metadata.","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/meta.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"An example of ideal metadata formatting for a sample set run on the Aqualog — meta","text":"","code":"meta"},{"path":"https://katiewampler.github.io/fewsdom/reference/meta.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"An example of ideal metadata formatting for a sample set run on the Aqualog — meta","text":"data frame 8 rows 11 columns: index numeric order entry (e.g. 1, 2, 3, 4, etc…) analysis_date date samples run instrument (collected field) description brief description sample collected 60-character max, used plot titles data_identifier data identifer sample used Aqualog, needs exact replicate_no numeric denoting analytical duplicates. must identical Sample identifiers integration_time_s Integration time sample (e.g. 1, 2, etc…) dilution Include dilution factor decimal format (e.g. 2-fold dilution 1 part sample 1 part water dilution factor 0.5). dilution 1 RSU_area_1s RSU Adjust Area Raman Test run_type sample run, either \"SampleQ\" \"Manual\", used rename organize samples DOC_mg_L DOC concentration mg/L original sample (diluted sample) Notes required, can used note abnormal sample experimental conditions","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/meta_clean.html","id":null,"dir":"Reference","previous_headings":"","what":"A set of raw eems data — meta_clean","title":"A set of raw eems data — meta_clean","text":"sample set data uploaded testing functions","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/meta_clean.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"A set of raw eems data — meta_clean","text":"","code":"meta_clean"},{"path":"https://katiewampler.github.io/fewsdom/reference/meta_clean.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"A set of raw eems data — meta_clean","text":"data frame 8 rows 12 columns: index numeric order entry (e.g. 1, 2, 3, 4, etc…) analysis_date date samples run instrument (collected field) description brief description sample collected 60-character max, used plot titles data_identifier data identifer sample used Aqualog, needs exact replicate_no numeric denoting analytical duplicates. must identical Sample identifiers integration_time_s Integration time sample (e.g. 1, 2, etc…) dilution Include dilution factor decimal format (e.g. 2-fold dilution 1 part sample 1 part water dilution factor 0.5). dilution 1 RSU_area_1s RSU Adjust Area Raman Test run_type sample run, either \"SampleQ\" \"Manual\", used rename organize samples DOC_mg_L DOC concentration mg/L original sample (diluted sample) Notes required, can used note abnormal sample experimental conditions unique_ID unique ID given sample based data identifier, integration time, replicate number","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/plot_eems.html","id":null,"dir":"Reference","previous_headings":"","what":"Exports EEMs contour plots to a file — plot_eems","title":"Exports EEMs contour plots to a file — plot_eems","text":"plot EEMs using 'ggeem2' function export plots specified file.","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/plot_eems.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Exports EEMs contour plots to a file — plot_eems","text":"","code":"plot_eems(   prjpath,   meta,   eem,   sing_plot = T,   sum_plot = T,   doc_norm = T,   ncol = 4,   title = \"description\",   save_names = \"\",   ... )"},{"path":"https://katiewampler.github.io/fewsdom/reference/plot_eems.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Exports EEMs contour plots to a file — plot_eems","text":"prjpath string indicating project file meta metadata associated samples eem object class eemlist EEMs plotted sing_plot logical, TRUE create save separate plot EEMs sum_plot logical, TRUE create save plot EEMs single plot doc_norm either TRUE, FALSE. TRUE return EEMs normalized DOC concentration ncol number columns used summary plot EEMs samples title either dataframe samples titles, 'description', 'sampleID', FALSE (see details) save_names optional, character added unique ID plot file names ... arguments pass 'ggeems2' function","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/plot_eems.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Exports EEMs contour plots to a file — plot_eems","text":"Use 'create_files' function running function ensure file structure correct pre-processing. title argument, can specify title manually, using dataframe first column unique ID's samples second column title. 'description' chosen use description column metadata. 'sampleID' chosen use unique identifier column metadata. Lastly FALSE chosen titles added.","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/plot_eems.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Exports EEMs contour plots to a file — plot_eems","text":"","code":"if (FALSE) {   plot_eems(prjpath = prjpath, meta=meta, eem=X_clean, doc_norm=F) }"},{"path":"https://katiewampler.github.io/fewsdom/reference/raman.html","id":null,"dir":"Reference","previous_headings":"","what":"Removes raman scattering with optional interpolation — raman","title":"Removes raman scattering with optional interpolation — raman","text":"remove first second order raman scattering option interpolate removed area. Also makes note correct made.","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/raman.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Removes raman scattering with optional interpolation — raman","text":"","code":"raman(   eem,   raman_mask = c(8, 8, 1.5, 1.5),   raman_width = \"auto\",   raman_interp = c(T, T),   process_file = NULL,   verbose = F )"},{"path":"https://katiewampler.github.io/fewsdom/reference/raman.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Removes raman scattering with optional interpolation — raman","text":"eem object class eemlist raman_mask vector length 4 specifying width raman line cut, numbers 1:2 width first order line, numbers 3:4 width second order line, since use auto method second order raman must specified raman_width either \"auto\" \"manual\". auto chosen cutting widths found using 'find_cut_width' function raman_interp vector length two, either T F, specifying whether first second order lines interpolated, first position refers first order line, way code written interpolate first order line second process_file file path .txt file, used track processing changes EEMs verbose logical, TRUE print widths used mask via auto width method","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/raw_eem.html","id":null,"dir":"Reference","previous_headings":"","what":"A set of raw eems data — raw_eem","title":"A set of raw eems data — raw_eem","text":"sample set data uploaded testing functions","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/raw_eem.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"A set of raw eems data — raw_eem","text":"","code":"raw_eem"},{"path":"https://katiewampler.github.io/fewsdom/reference/raw_eem.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"A set of raw eems data — raw_eem","text":"list length 3: 1 raw EEMs samples 2 blanks associated EEMs 3 absorbance data associated EEMs samples","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/rayleigh.html","id":null,"dir":"Reference","previous_headings":"","what":"Removes rayleigh scattering with optional interpolation — rayleigh","title":"Removes rayleigh scattering with optional interpolation — rayleigh","text":"remove first second order rayleigh scattering option interpolate removed area. Also makes note correction made optional text file.","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/rayleigh.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Removes rayleigh scattering with optional interpolation — rayleigh","text":"","code":"rayleigh(   eem,   rayleigh_mask = c(20, 10, 10, 10),   rayleigh_width = \"auto\",   rayleigh_interp = c(F, F),   process_file = NULL,   verbose = F )"},{"path":"https://katiewampler.github.io/fewsdom/reference/rayleigh.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Removes rayleigh scattering with optional interpolation — rayleigh","text":"eem object class eemlist rayleigh_mask optional auto width method used, vector length 4 specifying width rayleigh line cut, numbers 1:2 width first order line, numbers 3:4 width second order line rayleigh_width either \"auto\" \"manual\", auto chosen cutting widths found using 'find_cut_width' function rayleigh_interp vector length two, either T F, specifying whether first second order lines interpolated, first position refers first order line, way code written interpolate first order line second process_file file path .txt file, used track processing changes EEMs verbose logical, TRUE print widths used mask via auto width method","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/run_eems.html","id":null,"dir":"Reference","previous_headings":"","what":"Takes raw EEMs and absorbance data from Aqualog, returns cleaned, processed data\nCombines all the 'fewsdom' functions to make one function to process samples. — run_eems","title":"Takes raw EEMs and absorbance data from Aqualog, returns cleaned, processed data\nCombines all the 'fewsdom' functions to make one function to process samples. — run_eems","text":"Takes raw EEMs absorbance data Aqualog, returns cleaned, processed data Combines 'fewsdom' functions make one function process samples.","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/run_eems.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Takes raw EEMs and absorbance data from Aqualog, returns cleaned, processed data\nCombines all the 'fewsdom' functions to make one function to process samples. — run_eems","text":"","code":"run_eems(   prjpath,   meta_name,   get_doc = T,   doc_file,   doc_sheet,   doc_column = 7,   name_column = 4,   nskip = 3,   doc_delim = \"-\",   meta_sheet = \"log\",   site_loc = c(1, 7),   process_file = T,   ... )"},{"path":"https://katiewampler.github.io/fewsdom/reference/run_eems.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Takes raw EEMs and absorbance data from Aqualog, returns cleaned, processed data\nCombines all the 'fewsdom' functions to make one function to process samples. — run_eems","text":"prjpath path folder raw samples meta_name file name metadata extension get_doc logical, TRUE use 'get_doc' function match DOC data metadata samples, required get_doc TRUE doc_file string file path DOC file, can .xlsx .csv, required get_doc TRUE doc_sheet string sheet name DOC results, required DOC file .xlsx file, required get_doc TRUE doc_column numeric indicating column DOC results stored DOC file, required get_doc TRUE name_column numeric indicating column sample/site names stored DOC file, required get_doc TRUE nskip numeric indicating number lines skip reading DOC file, optional, required get_doc TRUE doc_delim string indicating separation site name identifiers DOC data, keep first piece, required get_doc TRUE meta_sheet string metadata sheet name, required metadata file .xlsx file site_loc vector indicating start end site name metadata data identifier process_file logical, TRUE put text file processed data folder named 'processing_tracking' ... additional arguments passed 'get_doc', 'clean_files', 'abs_preprocess', 'load_eems', 'eem_process', 'plot_eems', 'get_indices', 'save_eems' functions","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/run_eems.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Takes raw EEMs and absorbance data from Aqualog, returns cleaned, processed data\nCombines all the 'fewsdom' functions to make one function to process samples. — run_eems","text":"saves processed EEMs .csv .rds files, absorbance .csv .rds, metadata .csv creates plots sample calculates indices.","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/run_eems.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Takes raw EEMs and absorbance data from Aqualog, returns cleaned, processed data\nCombines all the 'fewsdom' functions to make one function to process samples. — run_eems","text":"following steps chosen default:  -DOC added metadata file overwritten -file directory created, raw files zipped -process file created, instrument blank subtracted  samples, raman scattering removed interpolated, rayleigh scattering  removed interpolated, widths determined automatically,  samples corrected inner filter effects, raman normalized,  normalized DOC, excitation clipped 247 450 nm, emission  clipped 247 550 nm -Sample plotted individually summary plot using parula  color palette descriptions plot titles, peaks  annotated plot. Plots created DOC normalized data (_DOC),  non normalized data. -Fluorescence indices reported data DOC  normalized, sample reported rows. want change defaults add appropriate arguments  function change defaults functions.","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/save_eems.html","id":null,"dir":"Reference","previous_headings":"","what":"Save EEMs and absorbance data to file — save_eems","title":"Save EEMs and absorbance data to file — save_eems","text":"Saves absorbance .csv file EEMs individual .csv files .rds file use future analysis.","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/save_eems.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Save EEMs and absorbance data to file — save_eems","text":"","code":"save_eems(eem_list, abs_data, meta, prjpath)"},{"path":"https://katiewampler.github.io/fewsdom/reference/save_eems.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Save EEMs and absorbance data to file — save_eems","text":"eem_list object class eemlist eem abs_data dataframe containing absorbance data meta metadata associated samples prjpath location save exported EEMs absorbance files","code":""},{"path":"https://katiewampler.github.io/fewsdom/reference/save_eems.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Save EEMs and absorbance data to file — save_eems","text":"Use 'clean_files' function running function ensure file structure correct pre-processing.","code":""}]
