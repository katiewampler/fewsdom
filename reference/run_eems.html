<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Takes raw EEMs and absorbance data from Aqualog, returns cleaned, processed data Combines all the 'fewsdom' functions to make one function to process samples. — run_eems • fewsdom</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Takes raw EEMs and absorbance data from Aqualog, returns cleaned, processed data Combines all the 'fewsdom' functions to make one function to process samples. — run_eems"><meta name="description" content="Takes raw EEMs and absorbance data from Aqualog, returns cleaned, processed data
Combines all the 'fewsdom' functions to make one function to process samples."><meta property="og:description" content="Takes raw EEMs and absorbance data from Aqualog, returns cleaned, processed data
Combines all the 'fewsdom' functions to make one function to process samples."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">fewsdom</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.1.7</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Takes raw EEMs and absorbance data from Aqualog, returns cleaned, processed data Combines all the 'fewsdom' functions to make one function to process samples.</h1>

      <div class="d-none name"><code>run_eems.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Takes raw EEMs and absorbance data from Aqualog, returns cleaned, processed data
Combines all the 'fewsdom' functions to make one function to process samples.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">run_eems</span><span class="op">(</span></span>
<span>  <span class="va">prjpath</span>,</span>
<span>  <span class="va">meta_name</span>,</span>
<span>  get_doc <span class="op">=</span> <span class="cn">F</span>,</span>
<span>  <span class="va">doc_file</span>,</span>
<span>  <span class="va">doc_sheet</span>,</span>
<span>  doc_column <span class="op">=</span> <span class="fl">7</span>,</span>
<span>  name_column <span class="op">=</span> <span class="fl">4</span>,</span>
<span>  nskip <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  doc_delim <span class="op">=</span> <span class="st">"-"</span>,</span>
<span>  meta_sheet <span class="op">=</span> <span class="st">"log"</span>,</span>
<span>  site_loc <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">7</span><span class="op">)</span>,</span>
<span>  process_file <span class="op">=</span> <span class="cn">T</span>,</span>
<span>  replace_blank <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-prjpath">prjpath<a class="anchor" aria-label="anchor" href="#arg-prjpath"></a></dt>
<dd><p>path to folder with raw samples</p></dd>


<dt id="arg-meta-name">meta_name<a class="anchor" aria-label="anchor" href="#arg-meta-name"></a></dt>
<dd><p>the file name of the metadata with the extension</p></dd>


<dt id="arg-get-doc">get_doc<a class="anchor" aria-label="anchor" href="#arg-get-doc"></a></dt>
<dd><p>logical, if TRUE will use 'get_doc' function to match DOC data to metadata samples, only required if get_doc is TRUE</p></dd>


<dt id="arg-doc-file">doc_file<a class="anchor" aria-label="anchor" href="#arg-doc-file"></a></dt>
<dd><p>a string of the file path of the DOC file, can be .xlsx or .csv, only required if get_doc is TRUE</p></dd>


<dt id="arg-doc-sheet">doc_sheet<a class="anchor" aria-label="anchor" href="#arg-doc-sheet"></a></dt>
<dd><p>a string of the sheet name of the DOC results, only required if the DOC file is an .xlsx file, only required if get_doc is TRUE</p></dd>


<dt id="arg-doc-column">doc_column<a class="anchor" aria-label="anchor" href="#arg-doc-column"></a></dt>
<dd><p>a numeric indicating which column the DOC results are stored in in the DOC file, only required if get_doc is TRUE</p></dd>


<dt id="arg-name-column">name_column<a class="anchor" aria-label="anchor" href="#arg-name-column"></a></dt>
<dd><p>a numeric indicating which column the sample/site names are stored in the DOC file, only required if get_doc is TRUE</p></dd>


<dt id="arg-nskip">nskip<a class="anchor" aria-label="anchor" href="#arg-nskip"></a></dt>
<dd><p>a numeric indicating a number of lines to skip when reading in the DOC file, optional, only required if get_doc is TRUE</p></dd>


<dt id="arg-doc-delim">doc_delim<a class="anchor" aria-label="anchor" href="#arg-doc-delim"></a></dt>
<dd><p>a string indicating the separation between site name and other identifiers in the DOC data, it will only keep the first piece, only required if get_doc is TRUE</p></dd>


<dt id="arg-meta-sheet">meta_sheet<a class="anchor" aria-label="anchor" href="#arg-meta-sheet"></a></dt>
<dd><p>a string of the metadata sheet name, only required if the metadata file is an .xlsx file</p></dd>


<dt id="arg-site-loc">site_loc<a class="anchor" aria-label="anchor" href="#arg-site-loc"></a></dt>
<dd><p>a vector indicating the start and end of the site name in the metadata data identifier</p></dd>


<dt id="arg-process-file">process_file<a class="anchor" aria-label="anchor" href="#arg-process-file"></a></dt>
<dd><p>logical, if TRUE it will put a text file in the processed data folder named 'processing_tracking'</p></dd>


<dt id="arg-replace-blank">replace_blank<a class="anchor" aria-label="anchor" href="#arg-replace-blank"></a></dt>
<dd><p>a character giving the data identifier of the sample that should be used for blank subtraction</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>additional arguments passed to the 'get_doc', 'clean_files', 'abs_preprocess', 'load_eems', 'eem_process', 'plot_eems', 'get_indices', 'save_eems' functions</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>saves processed EEMs as .csv and .rds files, absorbance as .csv and .rds, and metadata as .csv
creates plots for each sample and calculates indices.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The following steps are chosen by default:
 -DOC is added to the metadata and the file is overwritten</p>
<p>-The file directory is created, raw files are zipped</p>
<p>-A process file is created, The instrument blank is subtracted from the
 samples, raman scattering is removed and interpolated, rayleigh scattering
 is removed but not interpolated, widths are determined automatically,
 samples are corrected for inner filter effects, raman normalized, and
 normalized for DOC, excitation is clipped from 247 to 450 nm, emission
 is clipped from 247 to 550 nm</p>
<p>-Sample are plotted individually and a summary plot using the parula
 color palette with descriptions for the plot titles, the peaks are not
 annotated on the plot. Plots are created for DOC normalized data (_DOC),
 and for non normalized data.</p>
<p>-Fluorescence indices are reported for data that has and hasn't been DOC
 normalized, sample are reported in rows.</p>
<p>If you want to change these defaults add the appropriate arguments into the
 function to change the defaults for the other functions.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Katie A. Wampler.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

